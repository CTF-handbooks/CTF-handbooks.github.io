<!DOCTYPE html SYSTEM "about:legacy-compat">
<html lang="en-US" data-colors-preset="contrast" data-primary-color="#9F42BC"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="UTF-8"><meta name="robots" content="noindex"><meta name="built-on" content="2024-02-24T14:06:58.0822527"><title>Making a Map for Capture the Flag | CTF Handbooks</title><script type="application/json" id="virtual-toc-data">[{"id":"1-required-tools","level":0,"title":"1. Required tools","anchor":"#1-required-tools"},{"id":"2-planning-the-map","level":0,"title":"2. Planning the map","anchor":"#2-planning-the-map"},{"id":"3-creating-the-world","level":0,"title":"3. Creating the world","anchor":"#3-creating-the-world"},{"id":"4-setting-up","level":0,"title":"4. Setting up","anchor":"#4-setting-up"},{"id":"5-worldedit-basics","level":0,"title":"5. WorldEdit basics","anchor":"#5-worldedit-basics"},{"id":"6-removing-the-surrounding-terrain","level":0,"title":"6. Removing the surrounding terrain","anchor":"#6-removing-the-surrounding-terrain"},{"id":"7-placing-the-barriers","level":0,"title":"7. Placing the barriers","anchor":"#7-placing-the-barriers"},{"id":"8-building-the-map","level":0,"title":"8. Building the map","anchor":"#8-building-the-map"},{"id":"9-building-the-build-time-barrier","level":0,"title":"9. Building the build-time barrier","anchor":"#9-building-the-build-time-barrier"},{"id":"10-selecting-the-map-area","level":0,"title":"10. Selecting the map area","anchor":"#10-selecting-the-map-area"},{"id":"11-exporting-the-map","level":0,"title":"11. Exporting the map","anchor":"#11-exporting-the-map"},{"id":"12-testing-the-map","level":0,"title":"12. Testing the map","anchor":"#12-testing-the-map"},{"id":"13-screenshot","level":0,"title":"13. Screenshot","anchor":"#13-screenshot"},{"id":"14-submission","level":0,"title":"14. Submission","anchor":"#14-submission"}]</script><script type="application/json" id="topic-shortcuts"></script><link href="https://resources.jetbrains.com/writerside/apidoc/6.6.6-b205/app.css" rel="stylesheet"><link rel="apple-touch-icon" sizes="180x180" href="https://jetbrains.com/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="https://jetbrains.com/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="https://jetbrains.com/favicon-16x16.png"><link rel="manifest" href="site.webmanifest"><meta name="msapplication-TileColor" content="#000000"><meta name="msapplication-TileImage" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-144x144.png"><meta name="msapplication-square70x70logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-70x70.png"><meta name="msapplication-square150x150logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-150x150.png"><meta name="msapplication-wide310x150logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-310x150.png"><meta name="msapplication-square310x310logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-310x310.png"><meta name="image" content=""><!-- Open Graph --><meta property="og:title" content="Making a Map for Capture the Flag | CTF Handbooks"><meta property="og:description" content=""><meta property="og:image" content=""><meta property="og:site_name" content="CTF Handbooks Help"><meta property="og:type" content="website"><meta property="og:locale" content="en_US"><meta property="og:url" content="/ch/1.0/making-a-map-for-capture-the-flag.html"><!-- End Open Graph --><!-- Twitter Card --><meta name="twitter:card" content="summary_large_image"><meta name="twitter:site" content=""><meta name="twitter:title" content="Making a Map for Capture the Flag | CTF Handbooks"><meta name="twitter:description" content=""><meta name="twitter:creator" content=""><meta name="twitter:image:src" content=""><!-- End Twitter Card --><!-- Schema.org WebPage --><script type="application/ld+json">{
    "@context": "http://schema.org",
    "@type": "WebPage",
    "@id": "/ch/1.0/making-a-map-for-capture-the-flag.html#webpage",
    "url": "/ch/1.0/making-a-map-for-capture-the-flag.html",
    "name": "Making a Map for Capture the Flag | CTF Handbooks",
    "description": "",
    "image": "",
    "inLanguage":"en-US"
}</script><!-- End Schema.org --><!-- Schema.org WebSite --><script type="application/ld+json">{
    "@type": "WebSite",
    "@id": "/ch/#website",
    "url": "/ch/",
    "name": "CTF Handbooks Help"
}</script><!-- End Schema.org --></head><body data-id="Making-a-Map-for-Capture-the-Flag" data-main-title="Making a Map for Capture the Flag" data-article-props="{&quot;seeAlsoStyle&quot;:&quot;links&quot;}" data-template="article" data-breadcrumbs="The-Map-Maker-s-Handbook.md|The Map Maker's Handbook"><div class="wrapper"><main class="panel _main"><header class="panel__header"><div class="container"><h3>CTF Handbooks 1.0 Help</h3><div class="panel-trigger"></div></div></header><section class="panel__content"><div class="container"><article class="article" data-shortcut-switcher="inactive"><h1 data-toc="Making-a-Map-for-Capture-the-Flag" id="Making-a-Map-for-Capture-the-Flag.md">Making a Map for Capture the Flag</h1><section class="chapter"><h2 id="1-required-tools" data-toc="1-required-tools">1. Required tools</h2><ul class="list _ul" id="b381abac_2"><li class="list__item" id="b381abac_3"><p id="b381abac_4">Minetest version 5.7 or above. The latest stable version is always recommended.</p><aside class="prompt" data-type="note" data-title="" id="b381abac_5"><p id="b381abac_6">If you don't have Minetest installed, you can download it from the <a href="https://www.minetest.net/" id="b381abac_7" data-external="true" rel="noopener noreferrer">official Minetest website</a>.</p></aside></li><li class="list__item" id="b381abac_8"><p id="b381abac_9">Capture the Flag game for Minetest.</p><aside class="prompt" data-type="note" data-title="" id="b381abac_10"><p id="b381abac_11">You can install the game from either the ContentDB within your Minetest client or from the <a href="https://content.minetest.net/packages/rubenwardy/capturetheflag/" id="b381abac_12" data-external="true" rel="noopener noreferrer">ContentDB website</a>.</p><p id="b381abac_13">Once you have downloaded the .zip file from the ContentDB website, extract the .zip file and move the folder inside it to <code class="code" id="b381abac_14">[Minetest folder]/games</code>.</p></aside></li><li class="list__item" id="b381abac_15"><p id="b381abac_16">WorldEdit mod for Minetest. <sup class="superscript" id="b381abac_17">(<span class="emphasis" id="b381abac_18">optional</span>)</sup></p><aside class="prompt" data-type="note" data-title="" id="b381abac_19"><p id="b381abac_20">Although this is optional, it is recommended that you install WorldEdit. This tool is helpful when building desired map structures, and it can also speed up the process of creating large builds.</p><p id="b381abac_21">You can install WorldEdit from either the Minetest in-game ContentDB or from the <a href="https://content.minetest.net/packages/sfan5/worldedit/" id="b381abac_22" data-external="true" rel="noopener noreferrer">ContentDB website</a>.</p><p id="b381abac_23">Once you have download the .zip file from the ContentDB website, extract the .zip file and move the folder inside it to <code class="code" id="b381abac_24">[Minetest folder]/mods</code>.</p></aside></li></ul></section><section class="chapter"><h2 id="2-planning-the-map" data-toc="2-planning-the-map">2. Planning the map</h2><ul class="list _ul" id="b381abac_25"><li class="list__item" id="b381abac_26"><p id="b381abac_27">A map shouldn't be too big or too small. The size of a map can vary depending on the terrain and structures that the map will have. With a typical map size, players should be able to reach the middle of the map with a full sprint bar before running out of sprint. A maximum of <code class="code" id="b381abac_28">230 x 230</code> blocks in surface area is recommended.</p></li><li class="list__item" id="b381abac_29"><p id="b381abac_30">If you are making a map for the official CTF server, it is important to note that your map should be unique and not similar to the maps that already exist in the game.</p><aside class="prompt" data-type="tip" data-title="" id="b381abac_31"><p id="b381abac_32">&quot;The design of a map should encourage differing gameplay and tactics.&quot;</p><p id="b381abac_33">&mdash; -sniper-</p></aside></li><li class="list__item" id="b381abac_34"><p id="b381abac_35">The map design shouldn't give any team advantages (such as having a better position or more resources). All teams should have an equal chance of winning.</p></li><li class="list__item" id="b381abac_36"><p id="b381abac_37">Using certain mods on the world the map-making takes place might cause unpredicted problems to the finished map. Switching Minetest or CTF game versions in the midst of the map-making process might also cause problems.</p></li></ul></section><section class="chapter"><h2 id="3-creating-the-world" data-toc="3-creating-the-world">3. Creating the world</h2><ul class="list _ul" id="b381abac_38"><li class="list__item" id="b381abac_39"><p id="b381abac_40">After opening Minetest, go to settings and under Capture the Flag, enable <code class="code" id="b381abac_41">Low RAM mode</code>. This is done to prevent the game from crashing when making a map.</p><figure id="b381abac_42"><img alt="enalbe-low-ram-mode.png" src="images/enalbe-low-ram-mode.png" title="enalbe-low-ram-mode.png" width="767" height="645"></figure></li><li class="list__item" id="b381abac_43"><p id="b381abac_44">Exit settings and select the <code class="code" id="b381abac_45">Capture the Flag</code> game.</p><figure id="b381abac_46"><img alt="Game Icon" src="images/game_icon.png" title="Game Icon" width="106" height="92"></figure></li><li class="list__item" id="b381abac_47"><p id="b381abac_48">Create a new world. You can use any mapgen. If you would like to use generated terrain, you can choose the <code class="code" id="b381abac_49">v7</code> or <code class="code" id="b381abac_50">flat</code> mapgen. If you plan on building the terrain/structures yourself, you can choose the <code class="code" id="b381abac_51">singlenode</code> mapgen.</p><figure id="b381abac_52"><img alt="Mapgens" src="images/mapgens.png" title="Mapgens" width="412" height="204"></figure></li><li class="list__item" id="b381abac_53"><p id="b381abac_54">After you click <code class="code" id="b381abac_55">Create</code>, uncheck <code class="code" id="b381abac_56">Enable Damage</code> and check <code class="code" id="b381abac_57">Creative Mode</code>. Creative mode will enable <code class="code" id="b381abac_58">mapedit</code> mode.</p><figure id="b381abac_59"><img alt="World Options" src="images/world_options.png" title="World Options" width="148" height="62"></figure></li><li class="list__item" id="b381abac_60"><p id="b381abac_61">If you would like to use WorldEdit, click <code class="code" id="b381abac_62">Select Mods</code>, select <code class="code" id="b381abac_63">WorldEdit</code>, and click <code class="code" id="b381abac_64">Enable modpack</code>.</p><figure id="b381abac_65"><img alt="Mod Setup" src="images/mod_setup.png" title="Mod Setup" width="389" height="110"></figure></li><li class="list__item" id="b381abac_66"><p id="b381abac_67">Click <code class="code" id="b381abac_68">Save</code> and play the world.</p></li></ul></section><section class="chapter"><h2 id="4-setting-up" data-toc="4-setting-up">4. Setting up</h2><ul class="list _ul" id="b381abac_69"><li class="list__item" id="b381abac_70"><p id="b381abac_71">Grant yourself the &quot;ctf_map_editor&quot; priv by running <code class="code" id="b381abac_72">/grantme ctf_map_editor</code>. You can also use <code class="code" id="b381abac_73">/grantme all</code> to grant yourself &quot;ctf_map_editor&quot; and all the other privs that will be useful while making a map, such as fly, noclip, fast, etc.</p></li><li class="list__item" id="b381abac_74"><p id="b381abac_75">You can hit <kbd class="keystroke" id="b381abac_76" data-bypass="true"><span class="keystroke__value">Esc</span></kbd> on your keyboard and click <code class="code" id="b381abac_77">Change Keys</code> to see your controls (such as how to fly, noclip, etc.).</p><figure id="b381abac_78"><img alt="Keybinds" src="images/keybinds.png" title="Keybinds" width="256" height="99"></figure></li><li class="list__item" id="b381abac_79"><p id="b381abac_80"><span class="emphasis" id="b381abac_81">Tip:</span> Run <code class="code" id="b381abac_82">/time 12000</code> and <code class="code" id="b381abac_83">/set -n time_speed 0</code> if you want to disable nighttime while building the map.</p></li></ul></section><section class="chapter"><h2 id="5-worldedit-basics" data-toc="5-worldedit-basics">5. WorldEdit basics</h2><ul class="list _ul" id="b381abac_84"><li class="list__item" id="b381abac_85"><p id="b381abac_86">To use WorldEdit, first, you must select an area where your actions occur.</p></li><li class="list__item" id="b381abac_87"><p id="b381abac_88">You can use the <code class="code" id="b381abac_89">WorldEdit Wand tool</code> to select your area. To select your area, you select the two opposite corners of the area. Left-click a node with the tool to make the node the first corner, and right-click to set the second.</p><figure id="b381abac_90"><img alt="WorldEdit Wand Tool" src="images/worldedit_wand_tool.png" title="WorldEdit Wand Tool" width="412" height="102"></figure></li><li class="list__item" id="b381abac_91"><p id="b381abac_92">An alternative method is to stand at the point you would like to select and run <code class="code" id="b381abac_93">//1</code> in chat to set the first corner and <code class="code" id="b381abac_94">//2</code> to set the second.</p></li><li class="list__item" id="b381abac_95"><p id="b381abac_96">The area within will be selected.</p><figure id="b381abac_97"><img alt="Visual Representation of Regions" src="images/visual_represention_of_regions.png" title="Visual Representation of Regions" width="411" height="298"></figure><aside class="prompt" data-type="warning" data-title="" id="b381abac_98"><p id="b381abac_99"><span class="control" id="b381abac_100">Remember to backup your world before risky operations!</span></p></aside></li><li class="list__item" id="b381abac_101"><p id="b381abac_102">Open your inventory. Under the <code class="code" id="b381abac_103">Crafting</code> tab, an earth icon is hidden behind the crafting options. Click it to open the WorldEdit GUI.</p><figure id="b381abac_104"><img alt="Peekaboo with Earth" src="images/peekaboo_with_earth.png" title="Peekaboo with Earth" width="101" height="122"></figure></li><li class="list__item" id="b381abac_105"><p id="b381abac_106">These are the tools that you can use to alter the nodes within your selected area. You can experiment with the options.</p><figure id="b381abac_107"><img alt="WorldEdit GUI" src="images/WEGUI.png" title="WorldEdit GUI" width="711" height="241"></figure></li><li class="list__item" id="b381abac_108"><p id="b381abac_109">To set the area you've selected earlier with a certain type of node, click <code class="code" id="b381abac_110">Set Nodes</code>, type in the name of the node you would like to set in the field, click <code class="code" id="b381abac_111">Search</code> or press enter, and click <code class="code" id="b381abac_112">Set Nodes</code>.</p><figure id="b381abac_113"><img alt="Set Nodes" src="images/set_nodes.png" title="Set Nodes" width="329" height="168"></figure></li><li class="list__item" id="b381abac_114"><p id="b381abac_115">If you've selected a large area, WorldEdit might warn you in chat. Type <code class="code" id="b381abac_116">//y</code> in chat to continue.</p><p> <img alt="Large Area Warning" src="images/large_area_warning.png" class="inline-icon-" title="Large Area Warning" id="b381abac_117" width="1077" height="26"></p></li><li class="list__item" id="b381abac_118"><p id="b381abac_119">To replace a certain node type with another one in your selected area, select <code class="code" id="b381abac_120">Replace Nodes</code>. In the first field, type in the node you would like to replace; in the second field, type in the node you would like to replace with.</p></li><li class="list__item" id="b381abac_121"><p id="b381abac_122">To only place nodes where there are no nodes, you can replace <code class="code" id="b381abac_123">air</code> with the node you want to use.</p><figure id="b381abac_124"><img alt="Air" src="images/air.png" title="Air" width="381" height="245"></figure></li></ul></section><section class="chapter"><h2 id="6-removing-the-surrounding-terrain" data-toc="6-removing-the-surrounding-terrain">6. Removing the surrounding terrain</h2><aside class="prompt" data-type="note" data-title="" id="b381abac_125"><p id="b381abac_126">It is your choice to build the barriers first or the map first. For this example, we are going to build the barriers first.</p></aside><ul class="list _ul" id="b381abac_127"><li class="list__item" id="b381abac_128"><p id="b381abac_129">This is optional and only applies if you're using generated terrain. If you're using the <code class="code" id="b381abac_130">singlenode</code> mapgen, you can ignore this and continue reading from <a href="#7-placing-the-barriers" id="b381abac_131" data-tooltip="An easy way to place the outer barriers is to run the following command and select your whole map by supplying the two coordinates as instructed in chat:">here</a>.</p></li><li class="list__item" id="b381abac_132"><p id="b381abac_133">It might be hard to place the outer barriers when the terrain outside your map area blocks your view.</p></li><li class="list__item" id="b381abac_134"><p id="b381abac_135">To get rid of the extra terrain, first, select the area your map will be in with WorldEdit.</p><figure id="b381abac_136"><img alt="Selected Area" src="images/selected_area.png" title="Selected Area" width="352" height="248"></figure></li><li class="list__item" id="b381abac_137"><p id="b381abac_138">Once you select the area, run <code class="code" id="b381abac_139">//mtschemcreate &lt;any name&gt;</code>. For example:</p><div class="code-block" data-lang="none">
//mtschemcreate map_terrain
</div></li><li class="list__item" id="b381abac_141"><p id="b381abac_142">You can copy the exported schems to a singlenode world and place the terrain there. But to keep it simple, you can just fly up in the air and place the terrain in the sky.</p></li><li class="list__item" id="b381abac_143"><p id="b381abac_144">Enable fly, fly up, and find a suitable place. Place a corner with WorldEdit by running <code class="code" id="b381abac_145">//1</code> in chat. Then, run <code class="code" id="b381abac_146">//mtschemplace &lt;your schem name&gt;</code>. For example:</p><div class="code-block" data-lang="none">
//mtschemplace map_terrain
</div></li><li class="list__item" id="b381abac_148"><p id="b381abac_149">With that, your terrain should be placed there successfully. If you're unhappy with the result, you can go back down, pick another terrain, and do it again.</p><figure id="b381abac_150"><img alt="Map Area" src="images/map_area.png" title="Map Area" width="414" height="308"></figure></li></ul></section><section class="chapter"><h2 id="7-placing-the-barriers" data-toc="7-placing-the-barriers">7. Placing the barriers</h2><ul class="list _ul" id="b381abac_151"><li class="list__item" id="b381abac_152"><p id="b381abac_153">An easy way to place the outer barriers is to run the following command and select your whole map by supplying the two coordinates as instructed in chat:</p><div class="code-block" data-lang="none">
/ctf_barrier place_outer
</div><aside class="prompt" data-type="warning" data-title="" id="b381abac_155"><p id="b381abac_156">Doing this will surround the selected area with an indestructible glass/stone barrier, replacing all the nodes in the outermost layer of the selected area. <span class="control" id="b381abac_157">This action is not revertible.</span></p></aside></li><li class="list__item" id="b381abac_158"><p id="b381abac_159">If you would like more customization with the outer barriers, you can use WorldEdit to place them instead:</p><ul class="list _ul" id="b381abac_160"><li class="list__item" id="b381abac_161"><p id="b381abac_162">To make the bottom of the map indestructible so that players can't escape, select the bottom layer of your map and replace it with any indestructible node through the WorldEdit GUI, or the command <code class="code" id="b381abac_163">//s &lt;node itemstring&gt;</code>. For example:</p><div class="code-block" data-lang="none">
//s ctf_map:ind_stone
</div><aside class="prompt" data-type="note" data-title="" id="b381abac_165"><p id="b381abac_166">To see the itemstring of a node when hovering over it inside your inventory, you can go to settings, search for &quot;append&quot;, and enable <code class="code" id="b381abac_167">Append item name</code>.</p><p id="b381abac_168">You can find a list of commonly used itemstrings during map making <a href="commonly-used-itemstrings-list.html" id="b381abac_169" data-tooltip="In CTF, there are indestructible variants of almost all Minetest game nodes. Commonly used indestructible barriers/nodes:">here</a>.</p></aside></li><li class="list__item" id="b381abac_170"><p id="b381abac_171">Your outer barriers can be placed outside your map area, override the outer slice of your map, or leave parts of the map terrain/structures outside the barrier.</p><figure id="b381abac_172"><img alt="Border 1" src="images/border1.png" title="Border 1" width="205" height="203"></figure><figure id="b381abac_173"><img alt="Border 2" src="images/border2.png" title="Border 2" width="206" height="202"></figure><figure id="b381abac_174"><img alt="Border 3" src="images/border3.png" title="Border 3" width="207" height="201"></figure></li><li class="list__item" id="b381abac_175"><p id="b381abac_176">To place the outer barrier, select the area where the barrier will be with WorldEdit (this area should only be one node thick) and set it to <code class="code" id="b381abac_177">Indestructible Barrier Glass</code> (<code class="code" id="b381abac_178">ctf_map:ind_glass</code>) or any type of indestructible node. Many nodes have indestructible variants, which you can use. You can place it using the WorldEdit GUI, or through the command <code class="code" id="b381abac_179">//s &lt;node itemstring&gt;</code>. For example:</p><div class="code-block" data-lang="none">
//s ctf_map:ind_glass
</div><p id="b381abac_181">This method will penetrate the terrain/structures if you have some within your selected area.</p><figure id="b381abac_182"><img alt="Borders Destroy" src="images/borders_destroy.png" title="Borders Destroy" width="345" height="225"></figure></li><li class="list__item" id="b381abac_183"><p id="b381abac_184">To replace the terrain with a type of indestructible node and everything that is not terrain with the barrier glass like the image below, you can replace-inverse air with your indestructible node and then replace air with <code class="code" id="b381abac_185">Indestructible Barrier Glass</code>.</p><figure id="b381abac_186"><img alt="Mixed Barrier" src="images/mixed_barrier.png" title="Mixed Barrier" width="368" height="253"></figure></li><li class="list__item" id="b381abac_187"><p id="b381abac_188">To do that, select the area where the barrier will be with WorldEdit and replace-inverse air with your indestructible node through the WorldEdit GUI or using <code class="code" id="b381abac_189">//ri air &lt;node itemstring&gt;</code>. For example:</p><div class="code-block" data-lang="none">
//ri air ctf_map:ind_stone
</div></li><li class="list__item" id="b381abac_191"><p id="b381abac_192">Then, without selecting a new area, replace <code class="code" id="b381abac_193">air</code> with <code class="code" id="b381abac_194">Indestructible Barrier Glass</code> using the WorldEdit GUI, or through the command:</p><div class="code-block" data-lang="none">
//r air ctf_map:ind_glass
</div></li><li class="list__item" id="b381abac_196"><p id="b381abac_197">After finishing your first barrier wall, proceed to build the other 3 sides of the barrier.</p></li><li class="list__item" id="b381abac_198"><p id="b381abac_199">You can also make a roof using any type of indestructible node such as <code class="code" id="b381abac_200">Indestructible Barrier Glass</code>, but if you set your map area correctly later on, players shouldn't be able to escape through the roof. So, you do not necessarily need to add a roof.</p></li></ul></li></ul></section><section class="chapter"><h2 id="8-building-the-map" data-toc="8-building-the-map">8. Building the map</h2><ul class="list _ul" id="b381abac_201"><li class="list__item" id="b381abac_202"><p id="b381abac_203">If you are using the <code class="code" id="b381abac_204">singlenode</code> mapgen, because of the world being filled with &quot;Artificial Ignore&quot; (<code class="code" id="b381abac_205">ctf_map:ignore</code>), players will not be able to move around without noclip.</p></li><li class="list__item" id="b381abac_206"><p id="b381abac_207">&quot;Artificial Ignore&quot; is a type of invisible, un-diggable, and un-pointable (you cannot select it) block. You have to set the area you want players to move in with <code class="code" id="b381abac_208">air</code> using WorldEdit. So, to make a map in the <code class="code" id="b381abac_209">singlenode</code> mapgen, you will need to enable noclip, and set the area you require for map making to air, and run:</p><div class="code-block" data-lang="none">
//s air
</div></li><li class="list__item" id="b381abac_211"><p id="b381abac_212">When building your map, you can add any structure you want. Many blocks have indestructible variants, which you can use for builds you don't want players to destroy (use the admin pickaxe to break indestructible blocks).</p><figure id="b381abac_213"><img alt="Indestructible Variants" src="images/indestructible_variants.png" title="Indestructible Variants" width="172" height="65"></figure><aside class="prompt" data-type="tip" data-title="" id="b381abac_214"><p id="b381abac_215">Another special node that CTF provides is the &quot;Kill Node&quot; (<code class="code" id="b381abac_216">ctf_map:killnode</code>). It is a glass-like, un-walkable node that does a damage of 20 HP per second when in contact. It is pointable, in other words, selectable, only in <code class="code" id="b381abac_217">mapedit</code> mode.</p></aside></li><li class="list__item" id="b381abac_218"><p id="b381abac_219">You should also add the following:</p><ul class="list _ul" id="b381abac_220"><li class="list__item" id="b381abac_221"><p id="b381abac_222">Indestructible blocks under the position of the flag (the flag will be added later). The minimum surface area for this indestructible platform is <code class="code" id="b381abac_223">5x5</code> blocks (the flag should be in the middle).</p></li><li class="list__item" id="b381abac_224"><p id="b381abac_225">Team chests for each team. You can find them as a node in the inventory.</p><figure id="b381abac_226"><img alt="Team Chest" src="images/team_chest.png" title="Team Chest" width="361" height="245"></figure></li><li class="list__item" id="b381abac_227"><p id="b381abac_228"><span class="emphasis" id="b381abac_229">Optional:</span> ores (such as iron, diamond, or mese ores). The number of ores for each team should be about the same to ensure that no team has an advantage (please note that mapgens such as v7 and flat come with ores).</p></li></ul></li></ul></section><section class="chapter"><h2 id="9-building-the-build-time-barrier" data-toc="9-building-the-build-time-barrier">9. Building the build-time barrier</h2><ul class="list _ul" id="b381abac_230"><li class="list__item" id="b381abac_231"><p id="b381abac_232">Your build-time barrier should be in the middle of the map. It is fine if it can't be precisely in the middle.</p><aside class="prompt" data-type="note" data-title="" id="b381abac_233"><p id="b381abac_234">You can press <kbd class="keystroke" id="b381abac_235" data-bypass="true"><span class="keystroke__value">F5</span></kbd> to show your current coordinates.</p></aside></li><li class="list__item" id="b381abac_236"><p id="b381abac_237">To place the build-time barriers, run the following command in chat and select the area where your build-time barrier wall will be by supplying the two coordinates as instructed in chat (you can include terrain/structures in the selection too; don't worry they won't be replaced):</p><div class="code-block" data-lang="none">
/ctf_barrier place_buildtime
</div></li><li class="list__item" id="b381abac_239"><p id="b381abac_240">The above will replace certain nodes with the corresponding build-time barrier, creating a build-time wall. To remove a build-time wall or any part of it, run the following command in chat and supply the coordinates:</p><div class="code-block" data-lang="none">
/ctf_barrier remove_buildtime
</div></li><li class="list__item" id="b381abac_242"><p id="b381abac_243">To place the build-time barrier wall with WorldEdit, you can do the following:</p><ul class="list _ul" id="b381abac_244"><li class="list__item" id="b381abac_245"><p id="b381abac_246">The <code class="code" id="b381abac_247">Indestructible Red Barrier Glass</code> will disappear once build-time is over, so your build-time wall should not replace any part of the map terrain/structures. To do this, select the area where the build-time barrier wall will be with WorldEdit (you can include terrain/structures in the selection too; don't worry they won't be replaced), and run:</p><div class="code-block" data-lang="none">
//r air ctf_map:ind_glass_red
</div></li><li class="list__item" id="b381abac_249"><p id="b381abac_250">If there are stone nodes within the barrier wall, you can replace them with <code class="code" id="b381abac_251">Indestructible Red Barrier Stone</code>, which will turn into normal stone once the match starts. To do this, maintain the same selected area as before and run:</p><div class="code-block" data-lang="none">
//r default:stone ctf_map:ind_stone_red
</div></li><li class="list__item" id="b381abac_253"><p id="b381abac_254">If there is water within the barrier wall, you can replace it with <code class="code" id="b381abac_255">Indestructible Water Barrier Glass</code>, which will turn into water once the match starts. To do this, maintain the same selected area as before and run:</p><div class="code-block" data-lang="none">
//r default:water_source ctf_map:ind_water
</div></li><li class="list__item" id="b381abac_257"><p id="b381abac_258">If there is lava within the barrier wall, you can replace it with <code class="code" id="b381abac_259">Indestructible Lava Barrier Stone</code>, which will turn into lava once the match starts. To do this, maintain the same selected area as before and run:</p><div class="code-block" data-lang="none">
//r default:lava_source ctf_map:ind_lava
</div></li></ul></li><li class="list__item" id="b381abac_261"><p id="b381abac_262">If there are still breakable nodes within the barrier wall, you can leave them there, because if you set your team-zones correctly later on, players should be teleported back to base if they cross the barrier wall.</p></li></ul></section><section class="chapter"><h2 id="10-selecting-the-map-area" data-toc="10-selecting-the-map-area">10. Selecting the map area</h2><ul class="list _ul" id="b381abac_263"><li class="list__item" id="b381abac_264"><p id="b381abac_265">After you finished building your map, run the following command in chat:</p><div class="code-block" data-lang="none">
/ctf_map editor
</div></li><li class="list__item" id="b381abac_267"><p id="b381abac_268">Click <code class="code" id="b381abac_269">Create New Map</code>.</p><figure id="b381abac_270"><img alt="Map Editor" src="images/editor.png" title="Map Editor" width="540" height="176"></figure></li><li class="list__item" id="b381abac_271"><p id="b381abac_272">Follow the instructions given to you in chat and select the area your map is in, just like how you would select the area with WorldEdit. You can either punch a node to select or stand where you want to select and run the following command:</p><div class="code-block" data-lang="none">
/ctf_map here
</div><figure id="b381abac_274"><img alt="/ctf_map here" src="images/ctf_map_here.png" title="/ctf_map here" width="936" height="38"></figure><p id="b381abac_275">Make sure you selected your entire map and that you did not select any extra space. If you have decided to leave some terrain/structures outside your outer glass barrier, include them too.</p></li></ul></section><section class="chapter"><h2 id="11-exporting-the-map" data-toc="11-exporting-the-map">11. Exporting the map</h2><ul class="list _ul" id="b381abac_276"><li class="list__item" id="b381abac_277"><p id="b381abac_278">After selecting your map area, run <code class="code" id="b381abac_279">/ctf_map editor</code> in chat again. This will open the Map Editor.</p></li><li class="list__item" id="b381abac_280"><p id="b381abac_281">Check <code class="code" id="b381abac_282">Map Enabled</code> unless you don't want to make the map available for play. If you are making the map for the official server, you will check this.</p><figure id="b381abac_283"><img alt="Map Enabled" src="images/map_enabled.png" title="Map Enabled" width="153" height="62"></figure></li><li class="list__item" id="b381abac_284"><p id="b381abac_285">In the license field, add the license of your map. Every map must have a license. The official CTF server will only accept free culture licenses like <code class="code" id="b381abac_286">CC BY-SA 4.0</code>. Please note that some CC licenses, such as <code class="code" id="b381abac_287">CC BY-ND</code> are not free. You can find a list of CC licenses <a href="https://creativecommons.org/share-your-work/cclicenses/" id="b381abac_288" data-external="true" rel="noopener noreferrer">here</a>.</p><figure id="b381abac_289"><img alt="License" src="images/license.png" title="License" width="285" height="65"></figure><p id="b381abac_290">From the ctf_map README:</p><aside class="prompt" data-type="tip" data-title="" id="b381abac_291"><p id="b381abac_292">You can append any attribution you need to give to the <code class="code" id="b381abac_293">license</code> field (For example: If you modified someone's map or used one of their builds you'd list their name and what map/build of theirs that you modified/used). If you want to give more information, you can use the <code class="code" id="b381abac_294">Other Info</code> field.</p><p id="b381abac_295">Please make sure you know what you are doing when choosing a license.</p></aside></li><li class="list__item" id="b381abac_296"><p id="b381abac_297">In the <code class="code" id="b381abac_298">Folder Name</code> field, type in the name you want the map folder to be. For example, if your map name is &quot;My Map&quot;, it is recommended for you to name the folder <code class="code" id="b381abac_299">my_map</code>.</p><figure id="b381abac_300"><img alt="Folder Name" src="images/folder_name.png" title="Folder Name" width="284" height="70"></figure></li><li class="list__item" id="b381abac_301"><p id="b381abac_302">Give players a hint about your map in the <code class="code" id="b381abac_303">Map Hint</code> field, such as where the treasures/ores are.</p><figure id="b381abac_304"><img alt="Map Hint" src="images/hint.png" title="Map Hint" width="285" height="66"></figure></li><li class="list__item" id="b381abac_305"><p id="b381abac_306">Use <code class="code" id="b381abac_307">Other Info</code> for additional information about the map. You can leave this empty.</p><figure id="b381abac_308"><img alt="Other Info" src="images/other_info.png" title="Other Info" width="287" height="63"></figure></li><li class="list__item" id="b381abac_309"><p id="b381abac_310">In the <code class="code" id="b381abac_311">Map Name</code> field, type in the name of your map. For example, &quot;My Map&quot;.</p><figure id="b381abac_312"><img alt="Map Name" src="images/map_name.png" title="Map Name" width="282" height="61"></figure></li><li class="list__item" id="b381abac_313"><p id="b381abac_314">In the <code class="code" id="b381abac_315">Map Author(s)</code> field, type in the name(s) of the author(s) of your map.</p><figure id="b381abac_316"><img alt="Author(s)" src="images/author.png" title="Author(s)" width="283" height="63"></figure></li><li class="list__item" id="b381abac_317"><p id="b381abac_318">From the ctf_map README:</p><aside class="prompt" data-type="tip" data-title="" id="b381abac_319"><p id="b381abac_320"><code class="code" id="b381abac_321">initial_stuff</code> are the items given to players at their (re)spawn. The <code class="code" id="b381abac_322">initial_stuff</code> field is located in the <code class="code" id="b381abac_323">map.conf</code> file. At least a pickaxe and some torches should be given in the map's <code class="code" id="b381abac_324">initial_stuff</code>.</p><p id="b381abac_325">An example of <code class="code" id="b381abac_326">initial_stuff</code> value that registers a stone pickaxe, 30 cobblestones, 5 torches and a pistol is given below.</p></aside><div class="code-block" data-lang="none">
default:pick_stone,default:cobble 30,default:torch 5,ctf_ranged:pistol_loaded
</div><figure id="b381abac_328"><img alt="Initial stuff" src="images/initial_stuff.png" title="Initial stuff" width="279" height="60"></figure></li><li class="list__item" id="b381abac_329"><p id="b381abac_330"><code class="code" id="b381abac_331">Map Treasures</code> is <span class="emphasis" id="b381abac_332">optional</span>. You can leave this field untouched. From the ctf_map README:</p><aside class="prompt" data-type="tip" data-title="" id="b381abac_333"><p id="b381abac_334">(<code class="code" id="b381abac_335">Map Treasures</code> is) a list of treasures that can be added specifically for your map that don't end up in chests by default.</p><p id="b381abac_336">Format:</p><div class="code-block" data-lang="none">
[name];[min_count];[max_count];[max_stacks];[rarity];[TREASURE_VERSION];
</div><p id="b381abac_338"><code class="code" id="b381abac_339">rarity</code> is a value between 0 and 1 specifying the probability it will be added to a chest. <code class="code" id="b381abac_340">TREASURE_VERSION</code> should currently be set to one.</p><p id="b381abac_341">Example:</p><div class="code-block" data-lang="none">
default:lava_source;1;10;1;0.2;1;default:water_source;1;10;1;0.2;1;
</div><figure id="b381abac_343"><img alt="Map Treasures" src="images/map_treasures.png" title="Map Treasures" width="664" height="130"></figure></aside></li><li class="list__item" id="b381abac_344"><p id="b381abac_345">The <code class="code" id="b381abac_346">Skybox</code> is an image of a sky that will replace the default Minetest sky when players play your map. You can leave this as <code class="code" id="b381abac_347">none</code> to use the default Minetest sky or select one of the skyboxes. You can also add custom skyboxes. (<a href="https://github.com/CTF-handbooks/ctf-handbooks.github.io/issues/9" id="b381abac_348" data-external="true" rel="noopener noreferrer"><span class="emphasis" id="b381abac_349"><span class="control" id="b381abac_350">WIP</span></span></a>)</p><figure id="b381abac_351"><img alt="Skyboxes" src="images/skyboxes.png" title="Skyboxes" width="443" height="177"></figure></li><li class="list__item" id="b381abac_352"><p id="b381abac_353">In <code class="code" id="b381abac_354">Map Modes</code>, you can select the modes that will be enabled for your map. By default, all modes are enabled. To disable/enable a mode, double click it. Disabled modes are in the <code class="code" id="b381abac_355">Available Modes</code> box.</p><figure id="b381abac_356"><img alt="Map Modes" src="images/map_modes.png" title="Map Modes" width="1063" height="169"></figure></li><li class="list__item" id="b381abac_357"><p id="b381abac_358">Map Constants (from the ctf_map README):</p><aside class="prompt" data-type="tip" data-title="" id="b381abac_359"><ol class="list _decimal" id="b381abac_360" type="1"><li class="list__item" id="b381abac_361"><p><code class="code" id="b381abac_362">Map Shadow Intensity</code>: Sets the intensity of the shadows.</p></li><li class="list__item" id="b381abac_363"><p><code class="code" id="b381abac_364">Map Gravity</code>: Gravitational constant of the map. (default = 1)</p></li><li class="list__item" id="b381abac_365"><p><code class="code" id="b381abac_366">Map Movement Speed</code>: Regulates the speed at which players move. (default = 1)</p></li><li class="list__item" id="b381abac_367"><p><code class="code" id="b381abac_368">Map Jump Height</code>: Regulates the height of jumps. (default = 1)</p></li><li class="list__item" id="b381abac_369"><p><code class="code" id="b381abac_370">Map start_time</code>: Sets time of the day the match begins at. Changing this field will instantly update the time of day in the world you are editing. </p><ul class="list _ul" id="b381abac_371"><li class="list__item" id="b381abac_372"><p><code class="code" id="b381abac_373">0</code> is for midnight</p></li><li class="list__item" id="b381abac_374"><p><code class="code" id="b381abac_375">1000</code> is for 1 AM</p></li><li class="list__item" id="b381abac_376"><p><code class="code" id="b381abac_377">2000</code> is for 2 AM</p></li><li class="list__item" id="b381abac_378"><p>etc.</p></li></ul></li></ol></aside></li><li class="list__item" id="b381abac_379"><p id="b381abac_380">Below the map constants, you will see a list of the different teams with a checkbox next to them. Use the checkbox to enable the teams that exist in your map.</p><figure id="b381abac_381"><img alt="Teams" src="images/teams.png" title="Teams" width="348" height="443"></figure><p id="b381abac_382">Next, click the <code class="code" id="b381abac_383">Set Flag Pos</code> button below your first enabled team and punch the node where that team's flag will be on. This will place the flag on top of that node.</p><p id="b381abac_384">Then, click the <code class="code" id="b381abac_385">Zone Bounds</code> button below the <code class="code" id="b381abac_386">Set Flag Pos</code> button and select the team's team-zone. A team-zone is the area where the team's players interact within during build-time before the build-time barriers drop. During build-time, players who leave the team-zone will be teleported back to base. Even standing on the edge of the team-zone will teleport the player back to base, <span class="control" id="b381abac_387">so make sure to include the barriers within your team-zone too, or players will get teleported back to base if they touch the barriers during build-time!</span></p><p id="b381abac_388"><img alt="image" src="https://github.com/CTF-handbooks/map-maker-handbook/assets/88883098/7186f5fd-1e8d-416b-a7a6-a6eb9b2796bd" class="inline-icon-" title="image" id="b381abac_389"> <img alt="image" src="https://github.com/CTF-handbooks/map-maker-handbook/assets/88883098/843e65d0-6dba-4de7-b8d6-d4b9fee34b2a" class="inline-icon-" title="image" id="b381abac_390"></p><p id="b381abac_391">The <code class="code" id="b381abac_392">Look position</code> is the direction the players will look when they spawn at base. You can leave this by default (default is: auto).</p><p id="b381abac_393">Repeat the same process for every enabled team.</p></li><li class="list__item" id="b381abac_394"><p id="b381abac_395">To add treasure chests to your map, click the <code class="code" id="b381abac_396">Add Chest Zone</code> button to add a chest-zone. A chest-zone is an area where the treasure chests will spawn randomly. You can add multiple chest zones. Click on the <code class="code" id="b381abac_397">Chest Zone - (0,0,0) - (0,0,0)</code> button for each chest zone to select each chest zone's area. You can only add one chest zone and have it cover the whole map, or you can add several different chest zones. You can edit the number of chests that will spawn randomly in each chest-zone.</p><figure id="b381abac_398"><img alt="Chest-zone" src="images/chestzone.png" title="Chest-zone" width="566" height="218"></figure><p id="b381abac_399">You can click the <code class="code" id="b381abac_400">X</code> button to remove a chest zone. Make sure each team gets around the same number of chests on their side!</p></li><li class="list__item" id="b381abac_401"><p id="b381abac_402">Once you finish configuring the map, click the <code class="code" id="b381abac_403">Finish Editing</code> button at the very bottom to finish.</p><figure id="b381abac_404"><img alt="Finish Editing" src="images/finish.png" title="Finish Editing" width="210" height="70"></figure></li></ul></section><section class="chapter"><h2 id="12-testing-the-map" data-toc="12-testing-the-map">12. Testing the map</h2><ul class="list _ul" id="b381abac_405"><li class="list__item" id="b381abac_406"><p id="b381abac_407">You can find your exported map folder within <code class="code" id="b381abac_408">[Minetest folder]/worlds/[Map World]/schems/</code>.</p></li><li class="list__item" id="b381abac_409"><p id="b381abac_410">To test your map, copy that folder into <code class="code" id="b381abac_411">[Minetest folder]/games/capturetheflag/mods/ctf/ctf_map/maps</code>. You can go to your Minetest folder and paste the following into your file manager's search/directory to navigate there quickly:</p><div class="code-block" data-lang="none">
/games/capturetheflag/mods/ctf/ctf_map/maps
</div><aside class="prompt" data-type="warning" data-title="" id="b381abac_413"><p id="b381abac_414">If you experience a problem with the above path on certain file managers, copy it without the <code class="code" id="b381abac_415">/</code> at the start.</p></aside></li><li class="list__item" id="b381abac_416"><p id="b381abac_417">Create a new world in the Capture the Flag game with the <code class="code" id="b381abac_418">singlenode</code> mapgen.</p><figure id="b381abac_419"><img alt="World Generation" src="images/worldgen.png" title="World Generation" width="424" height="233"></figure></li><li class="list__item" id="b381abac_420"><p id="b381abac_421">Disable <code class="code" id="b381abac_422">Creative Mode</code>, and play the game.</p><figure id="b381abac_423"><img alt="World Options" src="images/world_options.png" title="World Options" width="148" height="62"></figure></li><li class="list__item" id="b381abac_424"><p id="b381abac_425">Grant yourself the <code class="code" id="b381abac_426">ctf_admin</code> priv (required to run upcoming commands) by running the following command:</p><div class="code-block" data-lang="none">
/grantme ctf_admin
</div></li><li class="list__item" id="b381abac_428"><p id="b381abac_429">To skip to your map, you can run the command <code class="code" id="b381abac_430">/ctf_next -f &lt;map_name&gt;</code> or run the command <code class="code" id="b381abac_431">/maps</code>. Once you run the <code class="code" id="b381abac_432">/maps</code> command, you will be in the &quot;Map catalog&quot; menu. Find your map in the list, select it, and press the <code class="code" id="b381abac_433">Skip to map</code> button.</p><figure id="b381abac_434"><img alt="Map catalog" src="images/map_catalog.png" title="Map catalog" width="391" height="673"></figure></li><li class="list__item" id="b381abac_435"><p id="b381abac_436">To skip build-time, you can run the following command:</p><div class="code-block" data-lang="none">
/ctf_start
</div></li><li class="list__item" id="b381abac_438"><p id="b381abac_439">To set yourself to the other team, run:</p><div class="code-block" data-lang="none">
/grantme ctf_team_admin
</div><p id="b381abac_441">Then:</p><div class="code-block" data-lang="none">
/ctf_teams set singleplayer &lt;team color&gt;
</div><p id="b381abac_443">For example:</p><div class="code-block" data-lang="none">
/ctf_teams set singleplayer blue
</div></li></ul></section><section class="chapter"><h2 id="13-screenshot" data-toc="13-screenshot">13. Screenshot</h2><p id="b381abac_445">From the ctf_map README:</p><aside class="prompt" data-type="tip" data-title="" id="b381abac_446"><p id="b381abac_447">If you choose to submit your map, include a screenshot of it in the exported map's folder. It should be taken without any texture packs enabled and must have an aspect ratio of 3:2 (screenshot <code class="code" id="b381abac_448">600px</code>x<code class="code" id="b381abac_449">400px</code> is suggested).</p><p id="b381abac_450">You can take a screenshot easily by doing the following:</p><ol class="list _decimal" id="b381abac_451" type="1"><li class="list__item" id="b381abac_452"><p>Hide the HUD. By default <kbd class="keystroke" id="b381abac_453" data-bypass="true"><span class="keystroke__value">F1</span></kbd> does that.</p></li><li class="list__item" id="b381abac_454"><p>Hide the chat log. By default <kbd class="keystroke" id="b381abac_455" data-bypass="true"><span class="keystroke__value">F2</span></kbd> does that.</p></li><li class="list__item" id="b381abac_456"><p>See if your screenshot looks better with/without fog enabled. You can toggle it with <kbd class="keystroke" id="b381abac_457" data-bypass="true"><span class="keystroke__value">F3</span></kbd> by default</p></li><li class="list__item" id="b381abac_458"><p>Try to find a good view that shows most of the map.</p></li><li class="list__item" id="b381abac_459"><p><span class="emphasis" id="b381abac_460">(Optional)</span> Increase your view range if important parts of the map cannot be seen. By default the <kbd class="keystroke" id="b381abac_461" data-bypass="true"><span class="keystroke__value">=</span></kbd> (or <kbd class="keystroke" id="b381abac_462" data-bypass="true"><span class="keystroke__value">+</span></kbd>) and <kbd class="keystroke" id="b381abac_463" data-bypass="true"><span class="keystroke__value">-</span></kbd> keys do that.</p></li><li class="list__item" id="b381abac_464"><p>Take a screenshot <span class="control" id="b381abac_465">from Minetest</span>. By default <kbd class="keystroke" id="b381abac_466" data-bypass="true"><span class="keystroke__value">F12</span></kbd> does that.</p></li><li class="list__item" id="b381abac_467"><p>You can find the screenshot in <code class="code" id="b381abac_468">[Minetest folder]/screenshots</code> unless you have changed the path in the settings.</p></li></ol><p id="b381abac_469">Crop the screenshot into the aspect ratio mentioned above using a tool of your choice, and put the screenshot inside your exported map's folder. It should be named <code class="code" id="b381abac_470">screenshot.png</code>.</p></aside><p id="b381abac_471">To crop your screenshot, you can use <a href="https://imagy.app/image-aspect-ratio-changer/" id="b381abac_472" data-external="true" rel="noopener noreferrer">this</a> website.</p></section><section class="chapter"><h2 id="14-submission" data-toc="14-submission">14. Submission</h2><ul class="list _ul" id="b381abac_473"><li class="list__item" id="b381abac_474"><p>Now that you have finished making your map, you can submit it to the official CTF server. You can learn more about submission <a href="https://github.com/MT-CTF/capturetheflag/blob/master/mods/ctf/ctf_map/README.md#9-submission" id="b381abac_475" data-external="true" rel="noopener noreferrer">here</a>.</p></li></ul></section><div class="last-modified">Last modified: 24 February 2024</div><div data-feedback-placeholder="true"></div><div class="navigation-links _bottom"><a href="the-map-maker-s-handbook.html" class="navigation-links__prev">The Map Maker's Handbook</a><a href="commonly-used-itemstrings-list.html" class="navigation-links__next">Commonly Used Itemstrings List</a></div></article><div id="disqus_thread"></div></div></section></main></div><script src="https://resources.jetbrains.com/writerside/apidoc/6.6.6-b205/app.js"></script></body></html>